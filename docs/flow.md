# Pipeline Flow Description (Updated)

This document provides a detailed, step-by-step breakdown of the complete 12-stage content generation pipeline for WordPress article generation.

---

## –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ò–ê–ì–ù–û–°–¢–ò–ö–ï –ü–†–û–ë–õ–ï–ú –í –ü–ê–ô–ü–õ–ê–ô–ù–ï

### –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–í–°–ï–ì–î–ê –ù–ê–ß–ò–ù–ê–¢–¨ –° –°–´–†–´–• LLM –î–ê–ù–ù–´–•**
- **–ü–ï–†–í–´–ú –î–ï–õ–û–ú** –ø—Ä–æ–≤–µ—Ä—è–π —Ñ–∞–π–ª—ã `output/{topic}/*/llm_responses_raw/*.txt`
- –°–º–æ—Ç—Ä–∏ —á—Ç–æ **–¢–û–ß–ù–û** —É—à–ª–æ –≤ LLM –∏ —á—Ç–æ **–¢–û–ß–ù–û** –ø—Ä–∏—à–ª–æ
- **–ù–ï –ø–æ–ª–∞–≥–∞–π—Å—è** –Ω–∞ –ª–æ–≥–∏ –∏–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ JSON —Ñ–∞–π–ª—ã

#### 2. **–°–¢–†–û–ì–û –°–õ–ï–î–û–í–ê–¢–¨ –¶–ï–ü–û–ß–ö–ï –î–ê–ù–ù–´–•**
- –ü—Ä–æ–≤–µ—Ä—è–π **–ß–¢–û** –≤—Ö–æ–¥–∏—Ç –≤ –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø (input)
- –ü—Ä–æ–≤–µ—Ä—è–π **–ß–¢–û** –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ (output)
- –ù–∞–π–¥–∏ **–¢–û–ß–ù–û–ï** –º–µ—Å—Ç–æ –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—è—é—Ç—Å—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ

#### 3. **–ù–ï –ü–†–ï–î–ü–û–õ–ê–ì–ê–¢–¨ - –ü–†–û–í–ï–†–Ø–¢–¨ –§–ê–ö–¢–´**
- **–ù–ï –≥–æ–≤–æ—Ä–∏** "–æ—Ç–∫—É–¥–∞-—Ç–æ", "–≤–æ–∑–º–æ–∂–Ω–æ", "–º–æ–∂–µ—Ç –±—ã—Ç—å"
- –ß–∏—Ç–∞–π **–†–ï–ê–õ–¨–ù–´–ï** —Ñ–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- –°–º–æ—Ç—Ä–∏ **–§–ê–ö–¢–ò–ß–ï–°–ö–ò–ï** –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã LLM

#### 4. **–ú–ï–¢–û–î "–û–¢ –ö–û–ù–¶–ê –ö –ù–ê–ß–ê–õ–£"**
- –í–æ–∑—å–º–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ò–¥–∏ **–ù–ê–ó–ê–î** –ø–æ —ç—Ç–∞–ø–∞–º –¥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
- –ù–∞–π–¥–∏ –≥–¥–µ **–ò–ú–ï–ù–ù–û** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

#### 5. **–í–°–ï–ì–î–ê –ü–†–û–í–ï–†–Ø–¢–¨ –ü–†–û–ú–ü–¢–´**
- –ß–∏—Ç–∞–π –ø—Ä–æ–º–ø—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –≤ LLM
- –ü—Ä–æ–≤–µ—Ä—è–π –µ—Å—Ç—å –ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- –°–º–æ—Ç—Ä–∏ —á—Ç–æ LLM –º–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω—è—Ç—å

#### 6. **–ü–û–†–Ø–î–û–ö –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á—Ç–æ –Ω–µ —Ç–∞–∫
2. –ù–∞–π—Ç–∏ –≤—Å–µ `llm_responses_raw/*.txt` —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–∞—Ö —ç—Ç–∞–ø–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç LLM –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ —ç—Ç–∞–ø–æ–≤
4. –ù–∞–π—Ç–∏ –≥–¥–µ –≤–ø–µ—Ä–≤—ã–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–∞
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–º–ø—Ç —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞
6. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç –∏–ª–∏ –∫–æ–¥

**–ù–ï –¢–†–ê–¢–ò–¢–¨ –í–†–ï–ú–Ø –ù–ê –ê–ù–ê–õ–ò–ó –õ–û–ì–ò–ö–ò –ö–û–î–ê –ë–ï–ó –ü–†–û–í–ï–†–ö–ò –°–´–†–´–• –î–ê–ù–ù–´–•!**

---


### –≠—Ç–∞–ø 1: –ó–∞–ø—Ä–æ—Å (The Request)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:** 
- –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: `python main.py "—Ç–µ–º–∞"`
- –ê—Ä–≥—É–º–µ–Ω—Ç topic (—Å—Ç—Ä–æ–∫–∞)

**–¶–ï–õ–¨:** –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é —Ç–µ–º—É –¥–ª—è –≤—Å–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞

**–§–£–ù–ö–¶–ò–ò:**
- `main.py` ‚Üí `argparse` –ø–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–Ω–µ –ø—É—Å—Ç–∞—è)
- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ `output/{—Ç–µ–º–∞}/`

**–ü–†–û–¶–ï–°–°:** 
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–º—É: `"Best prompts for data analysis in 2025"`
2. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç slug –∏–∑ —Ç–µ–º—ã –¥–ª—è –∏–º–µ–Ω –ø–∞–ø–æ–∫
3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `topic: str` - –∏—Å—Ö–æ–¥–Ω–∞—è —Ç–µ–º–∞
- `topic_slug: str` - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è –¥–ª—è –ø–∞–ø–æ–∫
- –°–æ–∑–¥–∞–Ω—ã –ø–∞–ø–∫–∏: `output/{topic_slug}/01_search/...`

---

### –≠—Ç–∞–ø 2: –ü–æ–∏—Å–∫ (Search)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `topic: str` - —Ç–µ–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
- `FIRECRAWL_API_KEY` - API –∫–ª—é—á –∏–∑ .env
- `search_limit: int = 20` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–¶–ï–õ–¨:** –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —à–∏—Ä–æ–∫–∏–π, –Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ URL-–∞–¥—Ä–µ—Å–æ–≤ –ø–æ —Ç–µ–º–µ

**–§–£–ù–ö–¶–ò–ò:**
- `src/firecrawl_client.py` ‚Üí `search(topic)`
- Firecrawl Search API (`/v2/search`) –∑–∞–ø—Ä–æ—Å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–ü–†–û–¶–ï–°–°:**
1. –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –±–µ–∑ –∫–∞–≤—ã—á–µ–∫ –¥–ª—è —à–∏—Ä–æ–∫–æ–≥–æ –æ—Ö–≤–∞—Ç–∞
2. POST –∑–∞–ø—Ä–æ—Å –∫ `https://api.firecrawl.dev/v2/search`
3. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ø-20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –ø–æ–∏—Å–∫–æ–≤–æ–π –≤—ã–¥–∞—á–∏ Google
4. –ü–µ—Ä–≤–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è URL (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫)

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "url": "https://example.com/article1",
    "title": "Best Data Analysis Prompts 2025",
    "description": "Complete guide to...",
    "favicon": "https://example.com/favicon.ico"
  }
]
```
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `output/{—Ç–µ–º–∞}/01_search/01_search_results.json`

---

### –≠—Ç–∞–ø 3: –ü–∞—Ä—Å–∏–Ω–≥ (Parsing)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –°–ø–∏—Å–æ–∫ URL –∏–∑ —ç—Ç–∞–ø–∞ 2 (20 —Å—Å—ã–ª–æ–∫)
- `filters/blocked_domains.json` - —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤
- `MIN_CONTENT_LENGTH = 10000` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç–∞—Ç—å–∏

**–¶–ï–õ–¨:** –ò–∑–≤–ª–µ—á—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –∫–∞–∂–¥–æ–≥–æ URL –∏ –æ—Ç—Å–µ—è—Ç—å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ç–∞—Ç—å–∏

**–§–£–ù–ö–¶–ò–ò:**
- `src/processing.py` ‚Üí `filter_urls()` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —á–µ—Ä–Ω–æ–º—É —Å–ø–∏—Å–∫—É
- `src/firecrawl_client.py` ‚Üí `scrape_urls()` - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
- Firecrawl Scrape API (`/v2/scrape`) —Å `onlyMainContent: true`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ü–†–û–¶–ï–°–°:**
1. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ URL –ø–æ `blocked_domains.json`
2. **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Firecrawl Scrape API
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã (10000+ —Å–∏–º–≤–æ–ª–æ–≤)
4. **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π —Å –ø—É—Å—Ç—ã–º –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "url": "https://example.com/article1",
    "title": "Complete Guide to Data Analysis",
    "content": "# Introduction\n\nData analysis has become..." // Markdown
  }
]
```
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `01_clean_urls.json` - URL –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- `02_scraped_data.json` - —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç Firecrawl  
- `03_valid_sources.json` - –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

---

### –≠—Ç–∞–ø 4: –û—Ü–µ–Ω–∫–∞ (Scoring)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –í–∞–ª–∏–¥–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–∑ —ç—Ç–∞–ø–∞ 3
- `filters/trusted_sources.json` - –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤
- `topic` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- –í–µ—Å–∞ –∏–∑ `src/config.py`: TRUST_WEIGHT, RELEVANCE_WEIGHT, DEPTH_WEIGHT

**–¶–ï–õ–¨:** –ü—Ä–∏—Å–≤–æ–∏—Ç—å –∫–∞–∂–¥–æ–º—É –∏—Å—Ç–æ—á–Ω–∏–∫—É –æ–±—ä–µ–∫—Ç–∏–≤–Ω—É—é —Ç—Ä–µ—Ö–º–µ—Ä–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞

**–§–£–ù–ö–¶–ò–ò:**
- `src/processing.py` ‚Üí `calculate_trust_score()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- `src/processing.py` ‚Üí `calculate_relevance_score()` - –∞–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- `src/processing.py` ‚Üí `calculate_depth_score()` - –æ—Ü–µ–Ω–∫–∞ –≥–ª—É–±–∏–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞

**–ü–†–û–¶–ï–°–°:**
1. **–¢—Ä–∞—Å—Ç–æ–≤–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞ –ø–æ `trusted_sources.json` ‚Üí (1.0-2.5)
2. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å:** –ü–æ–¥—Å—á–µ—Ç –≤—Ö–æ–∂–¥–µ–Ω–∏–π –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:
   - –í –∑–∞–≥–æ–ª–æ–≤–∫–µ: –≤–µ—Å √ó 3
   - –í —Ç–µ–∫—Å—Ç–µ: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–µ—Å
3. **–ì–ª—É–±–∏–Ω–∞:** –î–ª–∏–Ω–∞ —Å—Ç–∞—Ç—å–∏ –≤ —Å–∏–º–≤–æ–ª–∞—Ö ‚Üí –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ (0-1)
4. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "url": "https://example.com/article1",
    "title": "Complete Guide",
    "content": "...",
    "trust_score": 2.0,      // 1.0-2.5
    "relevance_score": 0.8,  // 0.0-1.0
    "depth_score": 0.9       // 0.0-1.0
  }
]
```
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `output/{—Ç–µ–º–∞}/03_scoring/scored_sources.json`

---

### –≠—Ç–∞–ø 5: –û—Ç–±–æ—Ä (Selection)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –û—Ü–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (trust, relevance, depth)
- –í–µ—Å–∞ –∏–∑ config: `TRUST_WEIGHT=0.5`, `RELEVANCE_WEIGHT=0.3`, `DEPTH_WEIGHT=0.2`
- `TOP_SOURCES_COUNT = 5` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–Ω–∞–ª–∏—Å—Ç–æ–≤

**–¶–ï–õ–¨:** –í—ã–±—Ä–∞—Ç—å 5 "—á–µ–º–ø–∏–æ–Ω–æ–≤" - –ª—É—á—à–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è LLM –∞–Ω–∞–ª–∏–∑–∞

**–§–£–ù–ö–¶–ò–ò:**
- `src/processing.py` ‚Üí `normalize_scores()` - –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–π —à–∫–∞–ª–µ
- `src/processing.py` ‚Üí `calculate_final_score()` - –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞
- `src/processing.py` ‚Üí `select_top_sources()` - –æ—Ç–±–æ—Ä —Ñ–∏–Ω–∞–ª–∏—Å—Ç–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É –±–∞–ª–ª—É

**–ü–†–û–¶–ï–°–°:**
1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** –í—Å–µ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ —à–∫–∞–ª–µ (0-1)
2. **–í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:** 
   ```python
   Final_Score = (trust * 0.5) + (relevance * 0.3) + (depth * 0.2)
   ```
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:** –í–µ—Å—å —Å–ø–∏—Å–æ–∫ –ø–æ `Final_Score` (—É–±—ã–≤–∞–Ω–∏–µ)
4. **–û—Ç–±–æ—Ä —Ç–æ–ø-5:** –ë–µ—Ä—É—Ç—Å—è –ª—É—á—à–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è LLM —ç—Ç–∞–ø–æ–≤

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "url": "https://example.com/article1",
    "title": "Best Guide",
    "content": "...",
    "trust_score": 2.0,
    "relevance_score": 0.9,
    "depth_score": 0.8,
    "final_score": 1.57,    // –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞
    "rank": 1               // –ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
  }
]
```
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `output/{—Ç–µ–º–∞}/04_selection/top_5_sources.json`

---

### –≠—Ç–∞–ø 6: –û—á–∏—Å—Ç–∫–∞ (Cleaning)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –¢–æ–ø-5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å "–≥—Ä—è–∑–Ω—ã–º" Markdown –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ—á–∏—Å—Ç–∫–∏ –≤ `src/processing.py`
- –°–ø–∏—Å–æ–∫ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ä–µ–∫–ª–∞–º–∞)

**–¶–ï–õ–¨:** –£–¥–∞–ª–∏—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π "–º—É—Å–æ—Ä" –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è LLM

**–§–£–ù–ö–¶–ò–ò:**
- `src/processing.py` ‚Üí `clean_content()` - –æ—Å–Ω–æ–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
- `remove_navigation_elements()` - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `clean_markdown_artifacts()` - –æ—á–∏—Å—Ç–∫–∞ —Ä–∞–∑–º–µ—Ç–∫–∏
- `normalize_whitespace()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –º—É—Å–æ—Ä–∞

**–ü–†–û–¶–ï–°–°:**
1. **–£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:** –ú–µ–Ω—é, breadcrumbs, "Related articles"
2. **–û—á–∏—Å—Ç–∫–∞ —Ä–µ–∫–ª–∞–º—ã:** Banner —Ç–µ–∫—Å—Ç, –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏
3. **Markdown –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:** –ë–∏—Ç–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞, –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã
4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã ‚Üí –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "url": "https://example.com/article1",
    "title": "Best Guide",
    "cleaned_content": "# Data Analysis Prompts\n\nHere are the most effective..." // –ß–∏—Å—Ç—ã–π Markdown
  }
]
```
**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:**
- `final_cleaned_sources.json` - JSON —Å–æ –≤—Å–µ–º–∏ –æ—á–∏—â–µ–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

---

### –≠—Ç–∞–ø 7: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä (Structure Extraction)

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –¢–æ–ø-5 –æ—á–∏—â–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ —ç—Ç–∞–ø–∞ 6 (`final_cleaned_sources.json`)
- `content_type="basic_articles"`
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/01_extract.txt`
- –ü–∞–ø–∫–∞ –≤—ã–≤–æ–¥–∞: `06_structure_extraction/`

**–¶–ï–õ–¨:** –ò–∑–≤–ª–µ—á—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å—Ö–µ–º—ã –∏–∑ –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ - —Ä–∞–∑–¥–µ–ª—ã, –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, —Ñ–æ–∫—É—Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–§–£–ù–ö–¶–ò–ò:**
- `extract_sections_from_article()` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `content_type="basic_articles"`
- LLM –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ `basic_articles/01_extract.txt` –ø—Ä–æ–º–ø—Ç
- –°–æ–∑–¥–∞–Ω–∏–µ JSON —Å—Ö–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–ü–†–û–¶–ï–°–°:**
1. **–ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º:** –ö–∞–∂–¥—ã–π –∏–∑ 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (`source_1`, `source_2`, etc.)
2. **LLM —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** –ê–Ω–∞–ª–∏–∑ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, H2/H3 –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ö–µ–º—ã:** JSON —Å –ø–æ–ª—è–º–∏ `section_title`, `section_description`, `content_focus`, `key_points`, `subsections`
4. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è:** –í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–±—â–∏–π –º–∞—Å—Å–∏–≤ `all_structures`
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –∏—Å—Ç–æ—á–Ω–∏–∫—É (`structures_extracted`)

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "section_title": "–û—Å–Ω–æ–≤—ã —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
    "section_description": "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π",
    "content_focus": "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤",
    "key_points": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã, –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞",
    "subsections": ["–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è", "–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã"]
  }
]
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** `06_structure_extraction/all_structures.json`!!!

---

### –≠—Ç–∞–ø 8: –°–æ–∑–¥–∞–Ω–∏–µ —É–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Ultimate Structure Creation) üèóÔ∏è

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `all_structures.json` –∏–∑ —ç—Ç–∞–ø–∞ 7 (—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/02_create_ultimate_structure.txt`
- `topic` –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏
- FREE DeepSeek Chat v3.1 API credentials (via OpenRouter)

**üéØ –¶–ï–õ–¨:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å 5 —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –µ–¥–∏–Ω—É—é —Å—Ö–µ–º—É —Å—Ç–∞—Ç—å–∏ —Å FAQ –∏ —Ä–∞–∑–¥–µ–ª–æ–º –ò—Å—Ç–æ—á–Ω–∏–∫–∏

**–§–£–ù–ö–¶–ò–ò:**
- LLM –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ `src/llm_processing.py`
- FREE DeepSeek —Å fallback –Ω–∞ Gemini 2.5 –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö
- –°–∏–Ω—Ç–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º FAQ —Ä–∞–∑–¥–µ–ª–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ö–µ–º—ã –¥–ª—è –ø–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–ü–†–û–¶–ï–°–°:**
1. **–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä:** LLM –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ 5 –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
2. **–°–∏–Ω—Ç–µ–∑:** –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π, –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç–∞—Ç—å–∏
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ FAQ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Å —á–∞—Å—Ç—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Å –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ [1]-[5]
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –õ–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–æ–≤ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[{
  "article_structure": [
    {
      "section_title": "–í–≤–µ–¥–µ–Ω–∏–µ",
      "section_description": "–û–±–∑–æ—Ä —Ç–µ–º—ã –∏ –µ—ë –≤–∞–∂–Ω–æ—Å—Ç–∏",
      "subsections": ["–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ", "–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å"]
    },
    {
      "section_title": "–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏",
      "section_description": "–ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã",
      "subsections": ["–ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã", "–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è"]
    },
    {
      "section_title": "FAQ",
      "section_description": "–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏",
      "subsections": ["–í–æ–ø—Ä–æ—Å 1", "–í–æ–ø—Ä–æ—Å 2", "–í–æ–ø—Ä–æ—Å 3"]
    },
    {
      "section_title": "–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏",
      "section_description": "–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è",
      "subsections": ["–ò—Å—Ç–æ—á–Ω–∏–∫ 1", "–ò—Å—Ç–æ—á–Ω–∏–∫ 2", "–ò—Å—Ç–æ—á–Ω–∏–∫ 3"]
    }
  ]
}]
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `ultimate_structure.json` - –µ–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `llm_requests/create_structure_request.json` - –∑–∞–ø—Ä–æ—Å –∫ LLM
- `llm_responses_raw/create_structure_response.txt` - —Å—ã—Ä–æ–π –æ—Ç–≤–µ—Ç LLM

**–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò:**
- **–°–∏–Ω—Ç–µ–∑ –ª—É—á—à–µ–≥–æ:** –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –≤—Å–µ—Ö 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **FAQ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- **–õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–æ–≤
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** –ì–æ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

### –≠—Ç–∞–ø 8: –ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏ (Section-by-Section Generation) ü§ñ

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `ultimate_structure.json` –∏–∑ —ç—Ç–∞–ø–∞ 7
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/01_generate_section.txt`
- `topic` –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- FREE DeepSeek Chat v3.1 API credentials (via OpenRouter)

**üéØ –¶–ï–õ–¨:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é –ø–æ —Å–µ–∫—Ü–∏—è–º —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –ø—Ä–æ—Ç–∏–≤ rate limits

**–§–£–ù–ö–¶–ò–ò:**
- `src/llm_processing.py` ‚Üí `generate_article_by_sections()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –ü–∞—Ä—Å–∏–Ω–≥ `structure[0]["article_structure"]` –∏–∑ ultimate structure
- FREE DeepSeek —Å fallback –Ω–∞ Gemini 2.5 –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö
- 5-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è rate limiting
- **–í–∞–ª–∏–¥–∞—Ü–∏—è v3.0:** 6-—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (compression, entropy, bigrams, finish_reason)

**–ü–†–û–¶–ï–°–°:**
1. **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π –∏–∑ `ultimate_structure.json`
2. **–ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:** –î–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ:
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ —Å `{topic}`, `{section_title}`, `{section_structure}`
   - LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ–∫—Ü–∏–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `sections/section_N/`
   - –ü–∞—É–∑–∞ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π —Å–µ–∫—Ü–∏–µ–π
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π:** –°—ã—Ä—ã–µ —Å–µ–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è —ç—Ç–∞–ø–∞ —Ñ–∞–∫—Ç-—á–µ–∫–∏–Ω–≥–∞

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
{
  "raw_response": "JSON —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º–∏ —Å–µ–∫—Ü–∏—è–º–∏",
  "topic": "—Ç–µ–º–∞ —Å—Ç–∞—Ç—å–∏",
  "generated_sections": [
    {
      "section_num": 0,
      "section_title": "–í–≤–µ–¥–µ–Ω–∏–µ",
      "content": "HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏",
      "status": "success",
      "attempts": 1
    }
  ]
}
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `08_article_generation/sections/section_1/` –¥–æ `section_N/` - –∫–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ
- `08_article_generation/wordpress_data.json` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ —Å —Å—ã—Ä—ã–º–∏ —Å–µ–∫—Ü–∏—è–º–∏

---

### –≠—Ç–∞–ø 9: –ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ (Section-by-Section Translation) üåç

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `generated_sections[]` –∏–∑ —ç—Ç–∞–ø–∞ 8 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ü–∏–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `--language` (—Ü–µ–ª–µ–≤–æ–π —è–∑—ã–∫ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞)
- `topic` –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/09_translation.txt`
- FREE DeepSeek Chat v3.1 API credentials (via OpenRouter)

**üéØ –¶–ï–õ–¨:** –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ —Å —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —è–∑—ã–∫, —Å–æ—Ö—Ä–∞–Ω–∏–≤ HTML-—Ä–∞–∑–º–µ—Ç–∫—É –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–§–£–ù–ö–¶–ò–ò:**
- `src/llm_processing.py` ‚Üí `translate_sections()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
- FREE DeepSeek —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π 0.3 –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ `validate_content_quality()`
- Graceful fallback –Ω–∞ Gemini 2.5 –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ü–†–û–¶–ï–°–°:**
1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ —è–∑—ã–∫–∞:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ `variables_manager.active_variables.get("language")` (default: "—Ä—É—Å—Å–∫–∏–π")
2. **–ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:** –î–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ:
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —Å–µ–∫—Ü–∏–∏
   - LLM –ø–µ—Ä–µ–≤–æ–¥–∏—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —è–∑—ã–∫
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (min 300 chars) —á–µ—Ä–µ–∑ regex checks
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `09_translation/section_N/`
   - –ü–∞—É–∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π —Å–µ–∫—Ü–∏–µ–π
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:** –ú–∞—Å—Å–∏–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
{
  "sections": [
    {
      "section_num": 1,
      "section_title": "Introduction to DeepSeek",
      "content": "<h2>Introduction</h2><p>Translated content...</p>",
      "status": "translated",
      "original_content": "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç...",
      "translation_model": "deepseek-reasoner",
      "target_language": "english"
    }
  ]
}
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `09_translation/section_1/` –¥–æ `section_N/` - –∫–∞–∂–¥–∞—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ
- `09_translation/translated_sections.json` - –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
- `09_translation/translation_status.json` - —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≤–æ–¥–∞ (—É—Å–ø–µ—Ö, failed_sections)

**–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò:**
- ‚úÖ **–ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ö–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è v3.0:** 6-—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `LLMResponseValidator` (src/llm_validation.py) + `custom_validator=translation_validator`
- ‚úÖ **Language verification:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ü–µ–ª–µ–≤–æ–º—É —è–∑—ã–∫—É (>30% cyrillic –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ)
- ‚úÖ **Length ratio check:** –ü–µ—Ä–µ–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 80-125% –æ—Ç –¥–ª–∏–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ (—á–µ—Ä–µ–∑ translation_validator)
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞:** Original content —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚õî **–ù–ï –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è:** HTML-—Ç–µ–≥–∏, URL, –∫–æ–¥, –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
- üîÑ **Graceful fallback:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Gemini 2.5

---

### –≠—Ç–∞–ø 10: –§–∞–∫—Ç-—á–µ–∫–∏–Ω–≥ —Å–µ–∫—Ü–∏–π (Fact-checking) üîç

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `translated_sections[]` –∏–∑ —ç—Ç–∞–ø–∞ 9 (–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏)
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/10_fact_check.txt`
- `topic` –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Google Gemini 2.5 Flash API (—Å –Ω–∞—Ç–∏–≤–Ω—ã–º –≤–µ–±-–ø–æ–∏—Å–∫–æ–º)

**üéØ –¶–ï–õ–¨:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ **–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ Google**

**–§–£–ù–ö–¶–ò–ò:**
- `src/llm_processing.py` ‚Üí `fact_check_sections()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- **Google Gemini —Å –ø—Ä—è–º–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Google Search API**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–µ–∫—Ü–∏–π –ø–æ 3 –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- 3-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –¥–ª—è rate limits

**–ü–†–û–¶–ï–°–°:**
1. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:** –°–µ–∫—Ü–∏–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ 3 –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. **Batch –ø—Ä–æ–≤–µ—Ä–∫–∞:** –î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã:
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Google Direct API —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º OpenAI‚ÜíGoogle
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ 10+ –≤–µ–±-–ø–æ–∏—Å–∫–æ–≤** —á–µ—Ä–µ–∑ Google Search
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π, –¥–∞—Ç, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ docs, GitHub)
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π fact_checked

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
[
  {
    "section_num": 0,
    "section_title": "–í–≤–µ–¥–µ–Ω–∏–µ",
    "content": "–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π HTML –∫–æ–Ω—Ç–µ–Ω—Ç",
    "status": "fact_checked",
    "original_content": "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è",
    "fact_check_model": "gemini-2.5-flash",
    "web_searches_performed": 12
  }
]
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `10_fact_check/group_1/` –¥–æ `group_N/` - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Å–µ–∫—Ü–∏–π
- `10_fact_check/fact_checked_content.json` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- `10_fact_check/fact_check_status.json` - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò:**
- **üîç –ù–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ Google:** 10+ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **üåç –†–∞–±–æ—Ç–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ:** –§–∞–∫—Ç-—á–µ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ
- **‚ö° Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ì—Ä—É–ø–ø—ã –ø–æ 3 —Å–µ–∫—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ:** 9.5/10 vs 6/10 —É Perplexity
- **üîó –ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **üõ°Ô∏è Graceful fallback:** –ü—Ä–∏ –æ—à–∏–±–∫–µ fallback –Ω–∞ DeepSeek –±–µ–∑ –≤–µ–±-–ø–æ–∏—Å–∫–∞

---

### –≠—Ç–∞–ø 11: –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Å—ã–ª–æ–∫ (Link Placement) üîó

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- `translated_sections[]` –∏–∑ —ç—Ç–∞–ø–∞ 9 (–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏)
- `fact_check_base_path` - –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ stage 10 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
  - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç `group_*` –ø–∞–ø–∫–∏ –æ—Ç fact-check ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö fact-checked –∫–æ–Ω—Ç–µ–Ω—Ç
  - –ï—Å–ª–∏ `group_*` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç (fact-check –æ—Ç–∫–ª—é—á–µ–Ω) ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã –∏–∑ translated_sections
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/11_link_placement.txt`
- `topic` –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Google Gemini 2.5 Flash API (—Å –Ω–∞—Ç–∏–≤–Ω—ã–º –≤–µ–±-–ø–æ–∏—Å–∫–æ–º)

**üéØ –¶–ï–õ–¨:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å 10-20 –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤ —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏

**–§–£–ù–ö–¶–ò–ò:**
- `src/llm_processing.py` ‚Üí `place_links_in_sections()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–µ–∫—Ü–∏–π –ø–æ 3 –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Google Gemini 2.5 Flash —Å –Ω–∞—Ç–∏–≤–Ω—ã–º –≤–µ–±-–ø–æ–∏—Å–∫–æ–º** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- Firecrawl Search API –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Å—ã–ª–æ–∫
- Fallback –Ω–∞ stable Gemini 2.5 Flash –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö
- 3-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –¥–ª—è rate limits

**–ü–†–û–¶–ï–°–°:**
0. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ï—Å–ª–∏ `fact_check_base_path` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `group_*` –ø–∞–ø–∫–∏ ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å fact-checked –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ `group_*/llm_responses_raw/*_fact_check_response.txt`
   - –ò–Ω–∞—á–µ ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã –ø–æ 3 —Å–µ–∫—Ü–∏–∏ –∏–∑ `translated_sections` (fallback –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: "Found N fact-check groups" –∏–ª–∏ "Creating new groups from translated_sections"
1. **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ–∫—Ü–∏–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç 10-20 –ø–æ–∑–∏—Ü–∏–π –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**: –°–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
3. **–ü–æ–∏—Å–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤**: Firecrawl API –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ URL –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**:
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: reddit.com, medium.com, stackoverflow.com
   - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è: docs.* ‚Üí arxiv.org ‚Üí github.com ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ
5. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤**: –í—Å—Ç–∞–≤–∫–∞ [1], [2], [3] –≤ HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å —É–º–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π –ø–æ–∑–∏—Ü–∏–π
6. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Å—Å—ã–ª–æ–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ "–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏" –≤ –∫–æ–Ω–µ—Ü —Å—Ç–∞—Ç—å–∏

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
{
  "content": "HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ [1], [2], [3]",
  "links_placed": 18,
  "links_planned": 20,
  "success_rate": 90.0,
  "useful_links_section": "<h2>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</h2><ol><li>...</li></ol>"
}
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `11_link_placement/content_with_links.json` - –∫–æ–Ω—Ç–µ–Ω—Ç —Å —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç—É—Ä—ã
- `11_link_placement/link_placement_status.json` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- `11_link_placement/group_1/`, `group_2/` - –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Å–µ–∫—Ü–∏–π

**–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò:**
- **üîç –ù–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ Google**: Gemini –Ω–∞—Ö–æ–¥–∏—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ Google Search API
- **üåç –†–∞–±–æ—Ç–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ**: –°—Å—ã–ª–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
- **üéØ –£–º–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ HTML —Ç–µ–≥–æ–≤
- **üìö –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ GitHub –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- **üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫**: –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç (—Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–∏) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **‚úÖ –í—ã—Å–æ–∫–∞—è —É—Å–ø–µ—à–Ω–æ—Å—Ç—å**: 90-95% –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è
- **üîÑ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä–µ–∂–∏–º–∞–º**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä—É–ø–ø—ã –æ—Ç fact-check –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –∏–∑ translated_sections
- **‚öôÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ `--link-placement-mode off`
- **üîÄ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –ª—é–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö/–≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö stage 10 –∏ 11
- **üîÑ Graceful fallback**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ stable Gemini 2.5 Flash

---

### –≠—Ç–∞–ø 12: –†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (Editorial Review) ‚úèÔ∏è

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –ö–æ–Ω—Ç–µ–Ω—Ç —Å —Å—Å—ã–ª–∫–∞–º–∏ –∏–∑ —ç—Ç–∞–ø–∞ 11 (link placement)
- `topic` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏
- –ü—Ä–æ–º–ø—Ç `prompts/basic_articles/02_editorial_review.txt` (–ë–ï–ó —Ñ–∞–∫—Ç-—á–µ–∫–∞)
- FREE DeepSeek Chat v3.1 API credentials (via OpenRouter)

**üéØ –¶–ï–õ–¨:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–¥–∞–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ (–ë–ï–ó –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–∫—Ç–æ–≤)

**–§–£–ù–ö–¶–ò–ò:**
- `src/llm_processing.py` ‚Üí `editorial_review()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π retry —Å–∏—Å—Ç–µ–º–æ–π
- FREE DeepSeek —Å –Ω–∏–∑–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π (0.2) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üÜï **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è retry/fallback —Å–∏—Å—Ç–µ–º–∞:** 6 –ø–æ–ø—ã—Ç–æ–∫ (3 primary + 3 fallback) —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π `make_llm_request()`
- üÜï **Post-processor –ø–∞—Ç—Ç–µ—Ä–Ω:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry/fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö JSON –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ LLM –æ—Ç–≤–µ—Ç–∞
- üÜï **5-—É—Ä–æ–≤–Ω–µ–≤–∞—è JSON –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** Universal repair ‚Üí Direct parsing ‚Üí Escaping fixes ‚Üí Block extraction ‚Üí Incomplete JSON repair
- üÜï **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `\\n` ‚Üí —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã –¥–ª—è WordPress
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:** `validation_level="minimal"` - —Ç–æ–ª—å–∫–æ length ‚â• 100 chars —á–µ—Ä–µ–∑ `LLMResponseValidator` (–∫–æ–Ω—Ç–µ–Ω—Ç —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω –ø–æ–ª–Ω–æ–π v3.0 –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–∞ —ç—Ç–∞–ø–∞—Ö 8-9)
- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ retry –∏ fallback –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–ü–†–û–¶–ï–°–°:**
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
2. **üÜï –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è retry/fallback —Å–∏—Å—Ç–µ–º–∞:**
   - **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –í—Å–µ retry/fallback –ª–æ–≥–∏–∫–∞ –≤ `make_llm_request()` (llm_request.py)
   - **6 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫:** 3 primary (DeepSeek) + 3 fallback (Gemini 2.5)
   - **Post-processor –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö JSON –ø–∞—Ä—Å–∏–Ω–≥–∞
   - **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. **LLM —Ä–µ–¥–∞–∫—Ç—É—Ä–∞:** –í—ã–ø–æ–ª–Ω—è–µ—Ç:
   - –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏—Å–∫–∏, –∞–±–∑–∞—Ü—ã)
   - HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ markdown —Å–∏–º–≤–æ–ª–æ–≤
   - –†–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ–∫—Å—Ç–∞ (—É–¥–∞–ª–µ–Ω–∏–µ "–≤–æ–¥—ã" –∏ –ø–æ–≤—Ç–æ—Ä–æ–≤)
   - –£–ª—É—á—à–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è FAQ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ü–µ—Ä–µ–≤–æ–¥ –∞–Ω–≥–ª–∏—Ü–∏–∑–º–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π (–µ—Å–ª–∏ —è–∑—ã–∫ —Ä—É—Å—Å–∫–∏–π)
4. **üÜï 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è JSON –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
   - **–£—Ä–æ–≤–µ–Ω—å 1:** Direct JSON parsing (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç ```json```)
   - **–£—Ä–æ–≤–µ–Ω—å 2:** Fixing escaping issues (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
   - **–£—Ä–æ–≤–µ–Ω—å 3:** JSON block extraction (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON –±–ª–æ–∫–∞ —á–µ—Ä–µ–∑ regex)
   - **–£—Ä–æ–≤–µ–Ω—å 4:** Incomplete JSON repair (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–∫–æ–±–æ–∫)
5. **üÜï –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫:** –°–∏—Å—Ç–µ–º–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `\\n` –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ WordPress
6. **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–µ–π:** Gemini-specific cleanup –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
{
  "title": "–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  "content": "<h2>–£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</h2><p>–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...</p>",
  "excerpt": "–ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
  "slug": "optimized-url-slug",
  "_yoast_wpseo_title": "SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  "_yoast_wpseo_metadesc": "–ò–Ω—Ç—Ä–∏–≥—É—é—â–µ–µ –º–µ—Ç–∞-–æ–ø–∏—Å–∞–Ω–∏–µ"
}
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `12_editorial_review/wordpress_data_final.json` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫
- `12_editorial_review/article_content_final.html` - —á–∏—Å—Ç—ã–π HTML –∫–æ–Ω—Ç–µ–Ω—Ç
- `12_editorial_review/llm_requests/editorial_review_request.json`
- `12_editorial_review/llm_responses_raw/editorial_review_response.txt`

---

### WordPress Publication (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) üåê

**–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
- –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `wordpress_data_final.json` –∏–∑ —ç—Ç–∞–ø–∞ 12
- WordPress –∫—Ä–µ–¥–µ–Ω—Ü–∏–∏ –∏–∑ `.env` —Ñ–∞–π–ª–∞ (PetrovA, app password)
- –§–ª–∞–≥ `--publish-wp` –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- WordPress API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**üéØ –¶–ï–õ–¨:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é –Ω–∞ https://ailynx.ru –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "prompts" –≤ —Å—Ç–∞—Ç—É—Å–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Yoast SEO

**–§–£–ù–ö–¶–ò–ò:**
- `src/wordpress_publisher.py` ‚Üí `WordPressPublisher()` - –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
- `publish_article()` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `test_wordpress_connection()` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- WordPress REST API v2 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

**–ü–†–û–¶–ï–°–°:**
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ WordPress API –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è WordPress REST API
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:** –ü–æ–∏—Å–∫ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "prompts" (ID: 825)
4. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏:** POST –∑–∞–ø—Ä–æ—Å –∫ `/wp-json/wp/v2/posts` —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
5. **SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Yoast SEO –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ meta
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ WordPress ID –∏ URL –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–´–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:**
```json
{
  "success": true,
  "wordpress_id": 4377,
  "url": "https://ailynx.ru/wp-admin/post.php?post=4377&action=edit",
  "error": null
}
```

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `wordpress_publication_result.json` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å WordPress ID
- –õ–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ª–æ–≥-—Ñ–∞–π–ª–µ

**–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò:**
- **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º `--publish-wp`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –°—Ç–∞—Ç—å–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ `draft` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- **SEO –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö Yoast SEO –ø–æ–ª–µ–π
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è:** –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "prompts"
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –∫—Ä–µ–¥–µ–Ω—Ü–∏–π –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ graceful fallback –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ê–∫–∫–∞—É–Ω—Ç PetrovA:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è Content Factory –ø—É–±–ª–∏–∫–∞—Ü–∏–π

---

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–û–ë–ù–û–í–õ–ï–ù–û)**

### **–ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞:**
```bash
# –ü–æ–ª–Ω—ã–π 12-—ç—Ç–∞–ø–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω + WordPress (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python main.py "–õ—É—á—à–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–¥–µ–π –¥–ª—è –≤–∏–¥–µ–æ"

# –° –ø–µ—Ä–µ–≤–æ–¥–æ–º –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
python main.py "–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö" --language "english"

# –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è guides —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
python main.py "ChatGPT –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö" --content-type guides

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ WordPress (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
python create_prompts_category.py
```

### **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (basic_articles):**
```
–≠—Ç–∞–ø—ã 1-6: –ü–æ–∏—Å–∫, –ø–∞—Ä—Å–∏–Ω–≥, –æ—Ü–µ–Ω–∫–∞, –æ—Ç–±–æ—Ä, –æ—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
           ‚Üì
–≠—Ç–∞–ø 7: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –∏–∑ 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Üí all_structures.json
           ‚Üì
–≠—Ç–∞–ø 8: all_structures ‚Üí ultimate_structure.json (—Å–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
           ‚Üì
–≠—Ç–∞–ø 08: ultimate_structure + topic ‚Üí generated_sections[] (—á–µ—Ä–Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
           ‚Üì
–≠—Ç–∞–ø 09: generated_sections[] ‚Üí translate_sections() ‚Üí translated_sections[] (–ø–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥)
           ‚Üì
–≠—Ç–∞–ø 10: translated_sections[] ‚Üí fact_check_sections() ‚Üí group_* folders (—Ñ–∞–∫—Ç-—á–µ–∫ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ)
           ‚Üì
–≠—Ç–∞–ø 11: translated_sections[] + fact_check_base_path ‚Üí place_links_in_sections()
         (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç group_* –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã) ‚Üí content_with_links
           ‚Üì
–≠—Ç–∞–ø 12: content_with_links ‚Üí editorial_review() ‚Üí wordpress_data_final.json (–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è)
           ‚Üì
WordPress: wordpress_data_final.json ‚Üí WordPress API ‚Üí draft post (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–û–ë–ù–û–í–õ–ï–ù–û - Oct 9, 2025):**
- **üÜï –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è retry/fallback —Å–∏—Å—Ç–µ–º–∞ (v2.4.0):**
  - **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:** –í—Å–µ retry/fallback –≤ `make_llm_request()` (src/llm_request.py)
  - **6 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫:** 3 primary + 3 fallback = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
  - **Post-processor –ø–∞—Ç—Ç–µ—Ä–Ω:** Retry/fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö JSON –ø–∞—Ä—Å–∏–Ω–≥–∞ –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–≥–æ LLM –æ—Ç–≤–µ—Ç–∞
  - **–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –í–°–ï–• LLM —ç—Ç–∞–ø–∞—Ö:** extract_sections, editorial_review, generate_article, fact_check, place_links, translate
- **üÜï –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (v3.0):**
  - –ü—Ä–æ–≤–∞–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Å–ø–∞–º, gibberish, < 300 chars) ‚Üí exception ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry ‚Üí fallback
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞ —ç—Ç–∞–ø–∞—Ö —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –ø–µ—Ä–µ–≤–æ–¥, —Ä–µ–¥–∞–∫—Ç—É—Ä–∞)
- **üÜï 5-—É—Ä–æ–≤–Ω–µ–≤–∞—è JSON –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** Universal repair ‚Üí Direct parsing ‚Üí Escaping fixes ‚Üí Block extraction ‚Üí Incomplete JSON repair
- **üÜï Model-specific –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è Gemini vs DeepSeek
- **üÜï –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫:** –°–∏—Å—Ç–µ–º–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `\\n` ‚Üí —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã –¥–ª—è WordPress
- **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å –º–µ—Ç–∫–∞–º–∏ –ø–æ–ø—ã—Ç–æ–∫
- **Graceful degradation** –ø—Ä–∏ —Å–±–æ—è—Ö LLM –≤—ã–∑–æ–≤–æ–≤
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö/–ø–æ—Å–ª–µ–¥–Ω–∏—Ö 300 —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–∞—Ä—Å–∏–Ω–≥–∞

### **Post-Processor Coverage (v2.4.0):**

**Post-processor pattern** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è downstream –æ–±—Ä–∞–±–æ—Ç–∫–∏ (JSON parsing, normalization) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º retry/fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö **–ü–û–°–õ–ï** —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM API.

**–≠—Ç–∞–ø—ã –° post-processors (3/7)**:
- **–≠—Ç–∞–ø 7 (extract_sections)**: `_extract_post_processor` - –ø–∞—Ä—Å–∏–Ω–≥ JSON array —Å—Ç—Ä—É–∫—Ç—É—Ä
- **–≠—Ç–∞–ø 8 (create_structure)**: `_create_structure_post_processor` - –ø–∞—Ä—Å–∏–Ω–≥ JSON object + –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
- **–≠—Ç–∞–ø 12 (editorial_review)**: `_editorial_post_processor` - –ø–∞—Ä—Å–∏–Ω–≥ JSON object —Å 5-—É—Ä–æ–≤–Ω–µ–≤–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–≠—Ç–∞–ø—ã –ë–ï–ó post-processors (4/7)** - –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTML string –Ω–∞–ø—Ä—è–º—É—é:
- **–≠—Ç–∞–ø 08 (generate_article)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–π, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç JSON parsing
- **–≠—Ç–∞–ø 09 (translation)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π HTML + custom validator –¥–ª—è –¥–ª–∏–Ω—ã 80-125%
- **–≠—Ç–∞–ø 10 (fact_check)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π HTML –∫–æ–Ω—Ç–µ–Ω—Ç
- **–≠—Ç–∞–ø 11 (link_placement)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML —Å –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

**–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø**: Post-processors –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ:
1. LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON (–Ω–µ HTML)
2. –¢—Ä–µ–±—É–µ—Ç—Å—è downstream –ø–∞—Ä—Å–∏–Ω–≥/–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ API
3. –ï—Å—Ç—å —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞, —Ç—Ä–µ–±—É—é—â–∏—Ö retry/fallback

**–í–∞–∂–Ω–æ**: –í—Å–µ 7 LLM-–∑–∞–≤–∏—Å–∏–º—ã—Ö —ç—Ç–∞–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `make_llm_request()` –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ retry/fallback, –Ω–æ —Ç–æ–ª—å–∫–æ 3 –∏–∑ –Ω–∏—Ö —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π JSON post-processing –∑–∞—â–∏—Ç—ã.

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ CONCURRENT_REQUESTS)
- **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- **–¢–æ–∫–µ–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** (200 –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤, 600 –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤)
- **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ** (–∫–∞–∂–¥—ã–π —ç—Ç–∞–ø —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π)

### **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏–∑–∞–π–Ω–∞ (–û–ë–ù–û–í–õ–ï–ù–û - –û–∫—Ç—è–±—Ä—å 2025):**
1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω—ã–π 13-—ç—Ç–∞–ø–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π
2. **WordPress-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –ü—Ä—è–º–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: LLM –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
4. **üÜï –ü–û–°–ï–ö–¶–ò–û–ù–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê**:
   - **–≠—Ç–∞–ø 08**: DeepSeek –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–µ–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - **–≠—Ç–∞–ø 09**: DeepSeek –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ö–ê–ñ–î–£–Æ —Å–µ–∫—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —è–∑—ã–∫
   - **–≠—Ç–∞–ø 10**: Google Gemini –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –§–ê–ö–¢–´ —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ (–Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ)
   - **–≠—Ç–∞–ø 11**: Google Gemini –Ω–∞—Ö–æ–¥–∏—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –°–°–´–õ–ö–ò —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫ (–Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ)
   - **–≠—Ç–∞–ø 12**: DeepSeek —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏ –ø–æ–ª–∏—Ä—É–µ—Ç –°–¢–†–£–ö–¢–£–†–£
5. **–ü—Ä—è–º–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: –≠—Ç–∞–ø 13 —Å—Ä–∞–∑—É –ø—É–±–ª–∏–∫—É–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤ WordPress
6. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö LLM –∏ WordPress –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
7. **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å**: –ü–æ—Å–µ–∫—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –ª—é–±–æ–π —è–∑—ã–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä—É—Å—Å–∫–∏–π)
8. **üÜï –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨**:
   - Google Gemini –¢–û–õ–¨–ö–û –¥–ª—è —Ñ–∞–∫—Ç-—á–µ–∫–∞ –∏ link placement (–≥–¥–µ –Ω—É–∂–µ–Ω –Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-–ø–æ–∏—Å–∫)
   - FREE DeepSeek –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ (—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –ø–µ—Ä–µ–≤–æ–¥, —Ä–µ–¥–∞–∫—Ç—É—Ä–∞)
9. **üîó –û–ë–û–ì–ê–©–ï–ù–ò–ï –°–°–´–õ–ö–ê–ú–ò**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ 10-20 –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
10. **SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ Yoast SEO –ø–æ–ª–µ–π –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
11. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: –°—Ç–∞—Ç—å–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ draft –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
12. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å**: –§–æ–∫—É—Å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö
13. **üÜï –ö–ê–ß–ï–°–¢–í–û –ö–û–ù–¢–ï–ù–¢–ê**: –ö–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∞–∫—Ç-–ø—Ä–æ–≤–µ—Ä–∫—É + –æ–±–æ–≥–∞—â–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞–º–∏ + –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è

–≠—Ç–∞ –ø–æ–ª–Ω–∞—è 12-—ç—Ç–∞–ø–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (+ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è WordPress –ø—É–±–ª–∏–∫–∞—Ü–∏—è) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: **Gemini –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–∫—Ç—ã + –Ω–∞—Ö–æ–¥–∏—Ç —Å—Å—ã–ª–∫–∏ (–≤–µ–±-–ø–æ–∏—Å–∫)**, **DeepSeek –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç + –ø–µ—Ä–µ–≤–æ–¥–∏—Ç + —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç (FREE)**, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤—ã—Å–æ—á–∞–π—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏.

---

## üîç **–°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—ã—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ LLM (–î–û–ë–ê–í–õ–ï–ù–û: –°–µ–Ω—Ç—è–±—Ä—å 2025)**

### **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—ã—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç LLM API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å JSON –ø–∞—Ä—Å–∏–Ω–≥–æ–º, –æ—Å–æ–±–µ–Ω–Ω–æ –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ "Expecting value: line 5241 column 1 (char 28820)" –æ—Ç DeepSeek API.

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**
–ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –ø–∞–π–ø–ª–∞–π–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—ã—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Å–≤–æ—é –ø–∞–ø–∫—É:

```
output/{topic}/
‚îú‚îÄ‚îÄ 06_structure_extraction/
‚îÇ   ‚îî‚îÄ‚îÄ llm_responses_raw/
‚îÇ       ‚îú‚îÄ‚îÄ extract_sections_response_attempt1_20250920_164532.txt
‚îÇ       ‚îú‚îÄ‚îÄ extract_sections_response_attempt2_20250920_164545.txt
‚îÇ       ‚îî‚îÄ‚îÄ ERROR_extract_sections_response_attempt3_20250920_164558.txt
‚îú‚îÄ‚îÄ 07_ultimate_structure/
‚îÇ   ‚îî‚îÄ‚îÄ llm_responses_raw/
‚îÇ       ‚îî‚îÄ‚îÄ create_structure_response_attempt1_20250920_164612.txt
‚îú‚îÄ‚îÄ 08_article_generation/
‚îÇ   ‚îî‚îÄ‚îÄ sections/
‚îÇ       ‚îú‚îÄ‚îÄ section_1/llm_responses_raw/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ generate_article_response_attempt1_20250920_164625.txt
‚îÇ       ‚îú‚îÄ‚îÄ section_2/llm_responses_raw/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ 09_editorial_review/
‚îÇ   ‚îî‚îÄ‚îÄ llm_responses_raw/
‚îÇ       ‚îú‚îÄ‚îÄ ERROR_editorial_review_response_attempt1_20250920_164638.txt
‚îÇ       ‚îî‚îÄ‚îÄ editorial_review_response_attempt2_20250920_164651.txt
```

### **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**

#### **–£—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**
```
{stage_name}_response_attempt{N}_{timestamp}.txt
```
- `stage_name`: extract_sections, create_structure, generate_article, editorial_review
- `attempt{N}`: –Ω–æ–º–µ—Ä –ø–æ–ø—ã—Ç–∫–∏ (1, 2, 3)
- `timestamp`: YYYYMMDD_HHMMSS

#### **–û—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:**
```
ERROR_{stage_name}_response_attempt{N}_{timestamp}.txt
```
–°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ–≥–¥–∞ LLM API –≤–µ—Ä–Ω—É–ª –æ—Ç–≤–µ—Ç, –Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON.

### **–§–æ—Ä–º–∞—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞**
```
TIMESTAMP: 2025-09-20T16:45:32.123456
MODEL: deepseek-reasoner
STAGE: editorial_review
ATTEMPT: 1
RESPONSE_LENGTH: 28820
SUCCESS: False
ERROR: Expecting value: line 5241 column 1 (char 28820)
================================================================================
{
  "title": "–£–ª—É—á—à–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏",
  "content": "<h2>–í–≤–µ–¥–µ–Ω–∏–µ</h2><p>–ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞—Ç—å–∏...</p>
  // –ó–î–ï–°–¨ –°–´–†–û–ô –û–¢–í–ï–¢ –û–ë–†–´–í–ê–ï–¢–°–Ø –ò–õ–ò –°–û–î–ï–†–ñ–ò–¢ –ü–û–í–†–ï–ñ–î–ï–ù–ù–´–ô JSON
```

### **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**

#### **–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö JSON –ø–∞—Ä—Å–∏–Ω–≥–∞:**
1. –ù–∞–π—Ç–∏ —Ñ–∞–π–ª `ERROR_*` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —ç—Ç–∞–ø–∞
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏ —É–≤–∏–¥–µ—Ç—å —Ç–æ—á–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–∞ LLM
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–¥–µ –∏–º–µ–Ω–Ω–æ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è JSON –∏–ª–∏ —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
4. –ü–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É: –æ–±—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ª–∏–º–∏—Ç—ã API, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON –æ—Ç –º–æ–¥–µ–ª–∏

#### **–ü—Ä–∏–º–µ—Ä —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:**
- **–û–±—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** –û—Ç–≤–µ—Ç –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ JSON –æ–±—ä–µ–∫—Ç–∞
- **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—à–∏–±–∫–æ–π –≤–º–µ—Å—Ç–æ JSON
- **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON:** LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON —Å –Ω–µ—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å UTF-8 —Å–∏–º–≤–æ–ª–∞–º–∏ –≤ –æ—Ç–≤–µ—Ç–µ

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

#### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å:**
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º LLM –∑–∞–ø—Ä–æ—Å–µ
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–æ–Ω–µ)

#### **–ú–µ—Å—Ç–æ –≤ –∫–æ–¥–µ:**
- –§—É–Ω–∫—Ü–∏—è `_make_llm_request_with_retry_sync()` –≤ `src/llm_processing.py`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON, —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç API
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö LLM —Ñ—É–Ω–∫—Ü–∏—è—Ö: retry, timeout, sync, async

#### **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —ç—Ç–∞–ø–∞–º–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏: DeepSeek, OpenRouter, Gemini
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π `save_llm_interaction()`

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
1. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –í–∏–¥–Ω–æ —Ç–æ—á–Ω–æ —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç API
2. **–ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ª–∞–¥–∫–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã JSON –æ—à–∏–±–æ–∫
3. **–ò—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
4. **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:** –§–∞–π–ª—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ —ç—Ç–∞–ø–∞–º –∏ –≤—Ä–µ–º–µ–Ω–∏

---

## TROUBLESHOOTING

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. **–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç LLM**
**–°–∏–º–ø—Ç–æ–º—ã:** `json.decoder.JSONDecodeError`
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `output/{topic}/*/llm_responses_raw/*.txt`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–º–ø—Ç —Ç—Ä–µ–±—É–µ—Ç JSON —Ñ–æ—Ä–º–∞—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ fallback –º–æ–¥–µ–ª–∏ –≤ config.py

#### 2. **–¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ —Å–∞–π—Ç–æ–≤**
**–°–∏–º–ø—Ç–æ–º—ã:** –ó–∞–≤–∏—Å–∞–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ 2 (Parse)
**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –≤ src/config.py: `SECTION_TIMEOUT = 300`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ Firecrawl API

#### 3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
**–°–∏–º–ø—Ç–æ–º—ã:** "–ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞–ª–æ—Å—å 0 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `filters/blocked_domains.json`
- –£–º–µ–Ω—å—à–∏—Ç–µ `MIN_CONTENT_LENGTH` –≤ config.py
- –†–∞—Å—à–∏—Ä—å—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

#### 4. **–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ WordPress**
**–°–∏–º–ø—Ç–æ–º—ã:** 401 Unauthorized –∏–ª–∏ 403 Forbidden
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `WORDPRESS_APP_PASSWORD` –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Application Passwords –≤–∫–ª—é—á–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 5. **–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤**
**–°–∏–º–ø—Ç–æ–º—ã:** "Request too large" –æ—Ç API
**–†–µ—à–µ–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–∏—Ç–µ `TOP_N_SOURCES` –¥–æ 3-4
- –°–æ–∫—Ä–∞—Ç–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –≤ `prompts/{type}/`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏

#### 6. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Å–µ–∫—Ü–∏—è—Ö**
**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è —Ç–µ–∫—Å—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ–∫—Ü–∏—è—Ö
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ `prompts/{type}/generate_article.md`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ñ–æ–∫—É—Å

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
grep -r "ERROR" output/*/logs/

# –ù–∞–π—Ç–∏ –≤—Å–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ LLM –∑–∞–ø—Ä–æ—Å—ã
find output -name "*attempt[2-9]*" -type f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
find output -name "cleaned_content.txt" -exec wc -l {} \;

# –í–∞–ª–∏–¥–∞—Ü–∏—è JSON –æ—Ç–≤–µ—Ç–æ–≤
python -m json.tool output/{topic}/*/llm_responses_raw/*.txt

# –¢–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å WordPress
curl -u "PetrovA:APP_PASSWORD" https://ailynx.ru/wp-json/wp/v2/posts
```

### –õ–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏:**
- `output/{topic}/logs/pipeline.log` - –æ–±—â–∏–π –ª–æ–≥ –ø–∞–π–ø–ª–∞–π–Ω–∞
- `output/{topic}/*/llm_responses_raw/` - —Å—ã—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã LLM
- `batch_failed_topics.txt` - —Å–ø–∏—Å–æ–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Ç–µ–º (batch mode)

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```bash
export DEBUG_MODE=true        # –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
export SKIP_WORDPRESS=true    # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é
export USE_FALLBACK_ONLY=true # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ fallback –º–æ–¥–µ–ª–∏
```
