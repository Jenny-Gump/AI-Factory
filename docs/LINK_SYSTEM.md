# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫

## üîó –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ 4-—ç—Ç–∞–ø–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Å—ã–ª–æ–∫.

## üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –≠—Ç–∞–ø 1: Link Planning (`01_5_link_planning.txt`)
- **LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç** —Å—Ç–∞—Ç—å–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
- **–ù–∞—Ö–æ–¥–∏—Ç –º–µ—Å—Ç–∞** –≥–¥–µ —á–∏—Ç–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å –ü–†–û–í–ï–†–ò–¢–¨ –∏–ª–∏ –ò–ó–£–ß–ò–¢–¨ –ì–õ–£–ë–ñ–ï —Ç–µ–º—É
- **–°–æ–∑–¥–∞–µ—Ç 5-15 –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä—É—Ñ–æ–≤ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- **–†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞—Ä–∫–µ—Ä—ã [1]..[N]** –≤ HTML –≥–¥–µ —á–∏—Ç–∞—Ç–µ–ª—å —Å–∫–∞–∂–µ—Ç "–∞ –≥–¥–µ –æ–± —ç—Ç–æ–º –ø–æ—á–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ?"
- **–í—ã–¥–∞–µ—Ç JSON** —Å `link_plan` –∏ `draft_with_markers`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç FREE –º–æ–¥–µ–ª—å** `deepseek/deepseek-chat-v3.1:free` —Å fallback –Ω–∞ Gemini 2.5

### –≠—Ç–∞–ø 2: Search Candidates
- **Firecrawl Search API** –∏—â–µ—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É (–ª–∏–º–∏—Ç 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤** –ø–æ –±–µ–ª–æ–º—É/—á–µ—Ä–Ω–æ–º—É —Å–ø–∏—Å–∫—É
- **HEAD –ø—Ä–æ–≤–µ—Ä–∫–∞** –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–æ–∫
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤** –≤ `candidates.json`

### –≠—Ç–∞–ø 3: Link Selection
- **Heuristic scoring** –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –¥–æ–º–µ–Ω–∞–º –∏ –ø—É—Ç—è–º
- **LLM tiebreaker** –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—É—á—à–∏—Ö —Å—Å—ã–ª–æ–∫ –ø—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –æ—Ü–µ–Ω–∫–∞—Ö
- **–í—ã–±–æ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ URL** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ [N]

### –≠—Ç–∞–ø 4: Apply Links
- **–ó–∞–º–µ–Ω–∞ –º–∞—Ä–∫–µ—Ä–æ–≤** –Ω–∞ HTML —Å—Å—ã–ª–∫–∏: `<a href="..." rel="nofollow noopener" target="_blank">[N]</a>`
- **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ "–ò—Å—Ç–æ—á–Ω–∏–∫–∏"** (—Å—Å—ã–ª–∫–∏ —Ç–µ–ø–µ—Ä—å inline)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ HTML** —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`src/config.py`):
```python
LINK_PROCESSING_ENABLED = True  # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å—Å—ã–ª–æ–∫
LINK_MAX_QUERIES = 15          # –ú–∞–∫—Å–∏–º—É–º –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç–∞—Ç—å—é
LINK_MAX_CANDIDATES_PER_QUERY = 5  # –ú–∞–∫—Å–∏–º—É–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
LINK_PROCESSING_TIMEOUT = 360      # –¢–∞–π–º–∞—É—Ç –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (6 –º–∏–Ω—É—Ç)
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤ (`filters/preferred_domains.json`):

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã** (–≤—ã—Å–æ–∫–∏–π scoring):
- `docs.microsoft.com`, `developer.mozilla.org`
- `docs.github.com`, `developers.google.com`
- `w3.org`, `ietf.org`, `arxiv.org`
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã: `docs.`, `developer.`, `api.`

**–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã**:
- `reddit.com`, `stackoverflow.com`, `medium.com`
- `dev.to`, `blogger.com`, `quora.com`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—É—Ç–∏**:
- `/docs`, `/documentation`, `/api`, `/reference`
- `/guide`, `/tutorial`, `/spec`, `/standards`

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è —Å—Ç–∞—Ç–µ–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏:
```bash
# main.py –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç basic_articles_pipeline (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ —Å FAQ)
python3 main.py "JavaScript best practices"

# –î–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –ø—Ä–æ–º–ø—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ batch_processor.py —Å --content-type
python3 batch_processor.py topics_file.txt --content-type prompt_collection --skip-publication
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω:

**basic_articles_flow**: –≠—Ç–∞–ø 10.5 (—Å—Ç—Ä–æ–∫–∏ 244-278 –≤ main.py)
**main_flow**: –≠—Ç–∞–ø 8.5 (—Å—Ç—Ä–æ–∫–∏ 511-544 –≤ main.py)

## üìÅ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã:
- `08_5_links/link_plan.json` - –ø–ª–∞–Ω —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫
- `08_5_links/draft_with_markers.html` - HTML —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ [1]..[N]
- `08_5_links/candidates.json` - –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã
- `08_5_links/selected_links.json` - –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- `08_5_links/article_with_links.html` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è —Å —Å—Å—ã–ª–∫–∞–º–∏
- `08_5_links/links_report.json` - –æ—Ç—á–µ—Ç –æ –ø—Ä–æ—Ü–µ—Å—Å–µ

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
```html
<p>JavaScript –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.</p>
```

**–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
```html
<p>JavaScript <a href="https://developer.mozilla.org/docs/Web/JavaScript/Guide/Grammar_and_types#Variables" rel="nofollow noopener" target="_blank">[1]</a> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.</p>
```

## üîß –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞:
```
=== Starting Link Processing Stage ===
Step 1: Creating link plan...
Step 2: Searching for link candidates...
Step 3: Selecting best links...
Step 4: Applying links to content...
Link processing report: 8/10 resolved (80%)
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**"No link plan generated"** - LLM –Ω–µ —Å–º–æ–≥ —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Å—Å—ã–ª–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–º–ø—Ç `01_5_link_planning.txt` (–Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ "–ø–æ–∏—Å–∫–∞ –ø—Ä—É—Ñ–æ–≤")
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FREE –º–æ–¥–µ–ª—å `deepseek/deepseek-chat-v3.1:free` –∏ fallback
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –ª–∏–º–∏—Ç—ã

**"Link processing failed"** - –û—à–∏–±–∫–∞ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
- –°–∏—Å—Ç–µ–º–∞ fallback –≤–µ—Ä–Ω–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- **Success rate**: –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
- **Processing time**: –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **Domains used**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- **Unresolved**: —Å–ø–∏—Å–æ–∫ –Ω–µ—Ä–µ—à–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤

–¶–µ–ª—å: >70% success rate –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏ —Å —Å—Å—ã–ª–∫–∞–º–∏.

## ‚úÖ –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 16.09.2025
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ 100% success rate (5/5 —Å—Å—ã–ª–æ–∫)
**–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: 31.6 —Å–µ–∫—É–Ω–¥

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
```html
<h2>React Hooks<a href="https://react.dev/reference/react/hooks" rel="nofollow noopener" target="_blank">[1]</a></h2>
<p>React hooks –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å state –∏ –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ React –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤<a href="https://react.dev/reference/react/Component" rel="nofollow noopener" target="_blank">[5]</a>.</p>
<p>useState<a href="https://legacy.reactjs.org/docs/hooks-state.html" rel="nofollow noopener" target="_blank">[2]</a> hook –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å state –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.</p>
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –≤ LinkProcessor (`src/config`, `src/logger_config`, etc.)
- ‚úÖ –î—É–±–ª–∏—Ä—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è `re`
- ‚úÖ –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Ä–∫–µ—Ä–æ–≤